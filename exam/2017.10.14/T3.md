这题思路很棒...第一次这么求组合数
我们用f[i][j]表示第i层用了j种颜色的方案
g[i][j]表示i个东西用j种颜色的合法方案数
我们考虑转移g数组
g[i][j] 由g[i-1][j] 和 g[i-1][j-1]　转移过来的
如果由g[i-1][j]转移过来,那么第i个东西就有j-1种选择
如果由g[i-1][j-1]转移过来,那么第i个东西有j种选择
考虑f的转移
设f[i][0] = f[i][j] (1<=j<=a[i])
如果 a[i] == 0
那么 f[i][1] = f[i-1][0] * m - a[i-1] == 1?f[i-1][1]:0; 
else 枚举 j , f[i][j] = f[i-1][0] * g[a[i]][j] * C(m,j) - a[i-1]>=j?f[i-1][j]:0
其中因为mod的p不是质数,可以直接质因数分解来求